<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
  <title>Vanilla JavaScript App</title>
  <script>
    async function getUserInfo() {
      const response = await fetch('/.auth/me');
      const payload = await response.json();
      const { clientPrincipal } = payload;
      return clientPrincipal;
    }

    (async () => {
    console.log(await getUserInfo());
    })();
  </script>
</head>

<body>
  <main>
    <h1>TE Vanilla JavaScript App</h1>
    <script>
      let d = new Date();
      document.body.innerHTML += "<h2>Today's date is " + d + "</h2>"
      document.body.innerHTML += "<h3>Check the console for user info</h3>";
      document.body.innerHTML += "<h3>Check the network tab for the request to /.auth/me</h3>";
      document.body.innerHTML += "<h3>Check the response in the network tab</h3>";  
    </script>
  </main>
</body>

</html>